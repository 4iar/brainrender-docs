# Videos, animations and exporting to html

A key goal for `brainrender` was to facilitate the dissemination of neuroanatomical data. To do so, creating spectacular renderings is not enough, you need to have a way to export them into a format that you can easily share. For this reason we've put a lot of effort into allowing you to do just that. After creating a rendering you can export your work by:

* taking a [**screenshot**](videos-animations-and-exporting-to-html.md#screenshots)\*\*\*\*
* creating an [**animated video**](videos-animations-and-exporting-to-html.md#videos)\*\*\*\*
* exporting your scene to an **html file** to share an interactive visualization on the web. 



### Screenshots

The `Scene` class has a `take_screenshot` method that allows you to save a `.png` image showing the current view of the rendering.  By default the screenshots are saved in `.brainrender/Output/Screenshots`, but you can specify an alternative destination using the `screenshot_kwargs` argument when creating the `Scene`. 

You can use `screenshot_kwargs` to specify:

* `folder`: the folder where the screenshots will be saved 
* `name`: the name that of the `.png` file \(a timestamp will be added\)
* `scale`: larger values result in larger, higher definition, image. 

By default `brainrender` is setup to ignore the background when saving the screenshots. That means that you will have all of your rendered objects in your image, but the background will be transparent. If you want to include the background in your image, include these two lines before creating the screenshot:

```python
import brainrender
brainrender.SCREENSHOT_TRANSPARENT_BACKGROUND = False
```

{% hint style="info" %}
You can also quickly take a screenshot by pressing the "s" key on your keyboard while interacting with the scene!
{% endhint %}



### Videos

The beauty of creating 3d renderings is that you can look at your data from multiple points of view. A 2d picture can't convey the same information, but a video showing the brain moving across frames may. 

For this reason `brainrender` supports the creating videos where at each frame it shows the current view of the scene and in-between frames it lets you move the scene around. 

The easiest way to create a video is with the `VideoMaker` class, however if you need more control you can use the `CustomVideoMaker` class. Here's a brief explanation of how they work, you can find more details in the [examples](../overview/examples.md).



#### VideoMaker

The `VideoMaker` class takes an instance of `Scene` as argument. That means that you need to first create and populate your [scene](scene.md) before starting to create your video.  Once you're happy with the content displayed in your scene, you can start the video creation by creating an instance of `VideoMaker`:

```python
vm = VideoMaker(scene)
```

`VideoMaker` takes a number of additional optional arguments to specify the folder the video will be saved in, the name of the video format, the video duration, fps and a few others. Check the [class definition](../autogenerated-docs/brainrender-autodocs/utils/video.md#contents) for more details. 

The process of creating a video is composed of two steps that are repeated for each frame in the video:

1. The scene's camera is moved to get a new perspective of the scene's content
2. A screenshot is taken to save the video's frame

`VideoMaker` allows for very simple although limited control of the camera: you can specify three directions of rotation \(`Azimuth`, `Roll` and `Pitch`\) and by how many degrees the camera should be rotated along each axis in step 1 above.  You can specify these controls by passing the corresponding arguments to `vm.make_video` which will then take care of creating and saving the video for you. 

{% hint style="info" %}
Note that video creationg is inherently a bit slow, if you need to create a long video with high fps, you might have to wait for a few minutes
{% endhint %}

#### CustomVideoMaker

`CustomVideoMaker` works in a very similar way to `VideoMaker` but it ensures more flexibility in specify how the camera and scene change in between frames \(i.e. step 1 above\). When using `CustomVideoMaker`, the `make_video` function now takes as argument a `python function` which takes care of creating the video frames. 

In your custom function, for each frame you will need to specify what happens \(how the camera moves, you can add/remove elements from the scene, change color of actors etc...\) and then save add the frame to the video. This last step you can do with:

```python
# Add frame to video
scene.render(zoom=zoom[step], interactive=False, video=True)
video.addFrame()
```

{% hint style="warning" %}
Note that your custom function should  take two keyword arguments: `scene` to hold a reference to the `Scene` being used and `video` to hold a reference to the `CustomVideoMaker` instance used to create the video.
{% endhint %}





### Exporting to html

Videos are an improvement over screenshots in that they let the viewer see the scene from multiple points of view. Ideally though you would need a way to let the viewer explore the scene at their own will, moving the camera around, zooming etc, the same way you do when you create your renderings. Well, **fear not!** `brainrender` now lets you export your scene to an `.html` file which you can send to your colleagues \(so that they can open it in their web browser\) or [embed in a website](https://fedeclaudi.github.io/scenes/regions.html). 

{% hint style="warning" %}
Warning: for large and complex scenes the resulting html file might be fairly large \(&gt;100MB\) and loading the interactive scene in your web browser might take a few minutes.
{% endhint %}

Exporting to `html` is very easy, all you need to do is create a `Scene`, add elements to it and once you're happy with it use the `export_for_web` method of `Scene` to create the `.html`.

{% hint style="info" %}
The web export functionality requries `k3d==2.7.4` and won't work with other versions of this package
{% endhint %}

{% hint style="danger" %}
Not all of `brainrender's` features can be included into your web export \(because of limitations with the `k3d` package.  For instance the appearance of your exported scene might be different from the one you saw in `brainrender.`
{% endhint %}





